"use strict";(()=>{(function(){function h(l){var r=l.botId||"bizai-agent-demo",s=l.apiBase||"",c=l.userId||"",p=l.chatId||"",m=l.theme||"dark",o=l.context||null,d=document.getElementById("lolabot-launcher"),u=document.getElementById("lolabot-iframe");d&&d.remove(),u&&u.remove();var t=document.createElement("button");t.id="lolabot-launcher",t.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',t.style.position="fixed",t.style.bottom="24px",t.style.right="24px",t.style.border="none",t.style.background="#121212",t.style.color="#fff",t.style.borderRadius="50%",t.style.width="60px",t.style.height="60px",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.cursor="pointer",t.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)",t.style.transition="all 0.2s ease",t.style.zIndex=999999,t.style.position="fixed";var a=document.createElement("span");a.textContent="1",a.style.position="absolute",a.style.top="-4px",a.style.right="-4px",a.style.background="#ff3b30",a.style.color="#fff",a.style.fontSize="10px",a.style.fontWeight="600",a.style.width="18px",a.style.height="18px",a.style.borderRadius="50%",a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="center",a.style.boxShadow="0 1px 3px rgba(0,0,0,0.3)",a.style.pointerEvents="none",t.appendChild(a),t.onmouseenter=function(){t.style.transform="scale(1.05)"},t.onmouseleave=function(){t.style.transform="scale(1)"};var e=document.createElement("iframe");e.id="lolabot-iframe",e.style.position="fixed",e.style.bottom="104px",e.style.right="24px",e.style.width="380px",e.style.height="560px",e.style.border="0",e.style.borderRadius="16px",e.style.boxShadow="0 8px 24px rgba(0,0,0,0.15)",e.style.overflow="hidden",e.style.display="none",e.style.zIndex=999999,e.style.transition="all 0.3s ease",e.style.maxWidth="calc(100vw - 40px)",e.style.maxHeight="calc(100vh - 120px)",e.allow="clipboard-read; clipboard-write; microphone";var g=l.baseUrl||"",v="?embed=true"+(s?"&apiBase="+encodeURIComponent(s):"")+(c?"&userId="+encodeURIComponent(c):"")+(p?"&chatId="+encodeURIComponent(p):"")+(m?"&theme="+encodeURIComponent(m):"")+(o?"&context="+encodeURIComponent(JSON.stringify(o)):"");e.src=(g||"")+"/"+encodeURIComponent(r)+v;var x=!1;window.addEventListener("message",function(n){n.data&&n.data.type==="LOLA_RESIZE"&&(x=n.data.isMaximized,n.data.isMaximized?(e.style.width="100%",e.style.height="100%",e.style.maxWidth="1440px",e.style.top="0",e.style.left="50%",e.style.transform="translateX(-50%)",e.style.right="auto",e.style.bottom="0",e.style.borderRadius="0",e.style.maxHeight="none"):n.data.isCollapsed?(e.style.width="380px",e.style.height="80px",e.style.bottom="104px",e.style.right="24px",e.style.borderRadius="16px",e.style.top="auto",e.style.left="auto",e.style.transform="none",e.style.maxWidth="calc(100vw - 40px)"):(e.style.width="380px",e.style.height="560px",e.style.bottom="104px",e.style.right="24px",e.style.borderRadius="16px",e.style.top="auto",e.style.left="auto",e.style.transform="none",e.style.maxWidth="calc(100vw - 40px)",e.style.maxHeight="calc(100vh - 120px)"))}),t.addEventListener("click",function(){if(a&&a.style.display!=="none"&&(a.style.display="none"),e.style.display==="none"){e.style.display="block",e.style.opacity="0";var n=x?"translateX(-50%) translateY(20px)":"translateY(20px)",w=x?"translateX(-50%) translateY(0)":"translateY(0)";e.style.transform=n,setTimeout(function(){e.style.opacity="1",e.style.transform=w},10)}else e.style.display="none"}),document.body.appendChild(t),document.body.appendChild(e)}function f(){var l=document.currentScript;if(!l){for(var r=document.getElementsByTagName("script"),s=0;s<r.length;s++)if(r[s].src&&r[s].src.includes("/embed/lolabot.js")){l=r[s];break}}if(l){var c=new URL(l.src),p=c.origin,m=l.getAttribute("data-bot-id")||"bizai-agent-demo",o=null;if(window.LOLABOT_CONTEXT&&typeof window.LOLABOT_CONTEXT=="object"&&(o=window.LOLABOT_CONTEXT),!o)try{var d=l.getAttribute("data-context");d&&(o=JSON.parse(d))}catch(u){console.error("LolaBot: Invalid JSON in data-context attribute",u)}h({botId:m,apiBase:l.getAttribute("data-api-base")||"",userId:l.getAttribute("data-user-id")||"",chatId:l.getAttribute("data-chat-id")||"",theme:l.getAttribute("data-theme")||"dark",context:o,baseUrl:p})}}window.LolaBot={mount:h};for(var y=document.getElementsByTagName("script"),b=!0,i=0;i<y.length;i++)if(y[i].src&&y[i].src.includes("/embed/lolabot.js")){y[i].getAttribute("data-no-auto-init")==="true"&&(b=!1);break}b&&(document.readyState==="complete"||document.readyState==="interactive"?f():document.addEventListener("DOMContentLoaded",f))})();})();
